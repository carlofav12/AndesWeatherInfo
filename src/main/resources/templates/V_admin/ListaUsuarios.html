<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8" />
	<title>Lista de Usuarios</title>
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
		integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
		integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.7/dist/umd/popper.min.js"
		integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"
		integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
		crossorigin="anonymous"></script>
	<script src="https://kit.fontawesome.com/c582dd2386.js" crossorigin="anonymous"></script>
	</link>


</head>

<body>
	<!DOCTYPE html>
	<html xmlns:th="http://www.thymeleaf.org">

	<head>
		<title>Vista Administrador</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
		<style>

		</style>
	</head>

	<body>
		<header>
			<div th:replace="~{V_admin/extracts/header :: header}"></div>
		</header>

		<main>
			<div class="container" 	style= height:80vh;>
				<h1 align="center">Lista de Usuarios</h1>
				
				<div class="table-responsive">
					<table class="table table-bordered">
						<tr>
							<th>ID</th>
							<th>USUARIO</th>
							<th>CONTRASEÑA</th>
							<th>DEPARTAMENTO</th>
							<th>EDITAR</th>
							<th>ELIMINAR:</th>
						</tr>
						</thead>
						<tbody>
							<tr th:each="usuario : ${usuarios}">
								<td th:text="${usuario.id}"></td>
								<td th:text="${usuario.usu}"></td>
								<td th:text="${usuario.contra}"></td>
								<td
									th:text="${usuario.persona.departamento != null ? usuario.persona.departamento.nombre : 'Sin departamento'}">
								</td>
								<td><a th:href="@{/Administrador/modificar-usuario/} + ${usuario.id}"
										style="color:blue">
										<center><i class="fa-solid fa-pen-to-square fa-beat"
												style="color: #0979f1;"></i></center>
									</a></td>
								<td><a th:href="@{/Administrador/eliminar-usuario/} + ${usuario.id}"
										onclick="clicked(event)" style="color:red">
										<center><i class="fa-solid fa-trash-can fa-bounce" style="color: red;"></i>
										</center>
									</a></td>
							</tr>
						</tbody>
					</table>
				</div>


		</main>
		<footer>
			<div th:replace="~{V_admin/extracts/footer :: footer}"></div>
		</footer>
	</body>

	</html>
	<script type="text/javascript">
		function clicked(e) {
			if (!confirm('¿Estas seguro que deseas eliminar?')) e.preventDefault();
		}
	</script>
</body>

</html>